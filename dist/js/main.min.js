!function(){"use strict";window.addEventListener("DOMContentLoaded",(e=>{document.body.classList.remove("preload")}));const e=e=>new Promise(((t,n)=>{const o=document.createElement("script");o.src=e,o.onload=t,o.onerror=n,document.body.appendChild(o)}));function t(e,t,n){new IntersectionObserver(((e,n)=>{e.forEach((e=>{e.isIntersecting&&(t(),n.unobserve(e.target))}))}),{...n}).observe(e)}function n(e){return null!=e&&"string"==typeof e&&e.includes("img.youtube.com")}const o=e=>{const t=localStorage.getItem(e);if(t){return(new Date-new Date(t))/1e3/60/60/24>7}return!0};const r=/cookieOptions\.(\w+)\) \|\| '(.+)'/g,c="/js/cookienotice.js",s=document.getElementById("bjs"),a=()=>{const t=s.value,n=window.cookieOptions||{},o={};t.replace(r,((e,t,n)=>{o[t]=n.replace(/\\x(\w{2})/g,((e,t)=>String.fromCharCode(parseInt(t,16))))})),t.includes(c)&&e(new URL(c,window.location.origin).href).then((()=>{const{msg:e=o.msg,close:t=o.close,learn:r=o.learn,link:c=o.link}=n;"function"==typeof window.cookieChoices?.showCookieConsentBar&&cookieChoices.showCookieConsentBar(e,t,r,c)})).catch((e=>{console.error(e)}))};s&&(a(),s.remove());const i=document.getElementById("comment-form"),l=document.getElementById("form-script"),d=document.getElementById("form-restore"),m=document.querySelectorAll("[data-parent-id]"),u="is-active",f="is-replying",g="has-reply-form",h="200px";function p(e){const{shortname:t,postUrl:n,postId:o}=e.dataset;window.disqus_config=function(){this.page.url=n,this.page.identifier=o};const r=document.createElement("script");r.src=`https://${t}.disqus.com/embed.js`,r.setAttribute("data-timestamp",+new Date),document.head.appendChild(r)}function v(e,t){if(!e)return;const n=e.match(/<iframe[^>]*\s+src="([^"]*)"/i)[1];return{originalSrc:n,form:t?e.replace(n,t):e}}const y=n=>{if(t(i,(()=>{!function(t){if(!t)return;const n=t.value.replace(/<script.*?src='(.*?)'.*?><\/script>/,"$1");t.remove(),e(n).then((()=>BLOG_CMT_createIframe("https://www.blogger.com/rpc_relay.html"))).catch((e=>console.error(e)))}(l)}),{rootMargin:h}),!n)return;const o=i.innerHTML,{originalSrc:r,form:c}=v(o),s=document.createElement("div");let a;s.id="reply-form",n.forEach((e=>{e.onclick=()=>{const t=e.dataset.parentId,n=document.querySelector(`#c${t} .comments-replies`),c=document.getElementById("reply-form");if(a===e)return;c?(c.parentElement.classList.remove(g),c.remove()):(i.innerHTML="",d.classList.add(f)),a&&a.classList.remove(u);const l=`${r}&parentID=${t}`,{form:m}=v(o,l);e.classList.add(u),a=e,s.innerHTML=m,n.classList.add(g),n.insertAdjacentElement("afterbegin",s)}})),d&&(d.onclick=()=>{if(a){const e=document.getElementById("reply-form");d.classList.remove(f),i.innerHTML=c,a.classList.remove(u),a=null,e.parentElement.classList.remove(g),e.remove()}})};i&&y(m),function(){const n=document.getElementById("disqus_thread"),o=document.getElementById("disqus_btn"),r=document.querySelector(".disqus-comment-count");if(r){const{shortname:t}=r.dataset;e(`https://${t}.disqus.com/count.js`)}n&&(o?o.onclick=()=>{p(n),o.remove()}:t(n,(()=>{p(n)}),{rootMargin:h}))}();const L=document.querySelectorAll(".nav"),E="is-open";let b=!1;L.forEach((e=>{const t=e.querySelectorAll(".nav-subnav .nav-link"),n=e.querySelectorAll(".has-subnav .nav-item-toggle");function o(t){e.contains(t.target)||(e.querySelectorAll(".has-subnav").forEach((e=>{e.classList.remove(E)})),document.removeEventListener("click",o),b=!1)}t.forEach((e=>{e.textContent=e.textContent.trim().replace(/^_+/,"")})),n.forEach((t=>{t.addEventListener("click",(()=>{t.parentNode.classList.toggle(E);e.querySelector(`.${E}`)&&!b&&(document.addEventListener("click",o),b=!0)}))}))}));const w=document.querySelectorAll("[data-modal]"),S="is-active",k="modal-is-open",C="--offset-scroll";function q(e){if(!e)return;const t=document.getElementById(e.dataset.modal);if(!t)return;const n=t.querySelector(".modal-dialog"),o=document.querySelectorAll(".modal-close");function r(e){n.contains(e.target)||I(t),t.removeEventListener("click",r)}e.addEventListener("click",(e=>{!function(e){const t=window.innerWidth-document.documentElement.clientWidth+"px",n=e.dataset.disableScroll;e.classList.add(S),document.body.classList.add(k),n&&(document.body.style.setProperty(C,t),document.body.style.paddingRight=t,document.body.style.overflow="hidden")}(t),t.addEventListener("click",r)})),o.forEach((e=>{e.addEventListener("click",(()=>I(t)))}))}function I(e){const t=function(e){if(!e)return 0;const t=window.getComputedStyle(e),n=t.transitionDuration.split(",")[0],o=t.transitionDelay.split(",")[0],r=parseFloat(n)+parseFloat(o);return r?1e3*r:0}(e)+5;e.classList.remove(S),setTimeout((()=>{document.body.classList.remove(k),document.body.removeAttribute("style")}),t)}w.forEach((e=>{q(e)}));const $=document.querySelectorAll("[data-outside]"),x="is-active";$.forEach((e=>{!function(e){if(!e)return;const t=document.getElementById(e.dataset.outside),n=document.getElementById(e.dataset.affected);if(!t)return;function o(){e.classList.toggle(x),t.classList.toggle(x),n&&n.classList.toggle(x),e.classList.contains(x)?document.addEventListener("click",r):document.removeEventListener("click",r)}function r(n){t.contains(n.target)||e.contains(n.target)||(o(),document.removeEventListener("click",r))}e.addEventListener("click",o);const c=t.querySelector("[data-close]");c&&c.addEventListener("click",o)}(e)}));const N=e=>{const t=document.createElement("li"),n=e.tagName.charAt(1);return t.appendChild((e=>{const t=document.createElement("a");return t.href=`#${e.id}`,t.className="toc-link",t.innerHTML=e.innerText,t})(e)),t.dataset.level=n,t.className="toc-item",t},B=(e,t)=>{const n=N(t);return e.appendChild(n),n},j=(e,t)=>{const n=t.tagName.charAt(1);if("ol"===e.tagName.toLowerCase())return B(e,t);if(n>e.dataset.level){const n=(e=>{const t=e.querySelector("ol");if(t)return t;const n=document.createElement("ol");return n.classList.add("toc-list"),e.appendChild(n),n})(e);return B(n,t)}return e.parentNode.parentNode?j(e.parentNode.parentNode,t):B(e.parentNode,t)},A=document.querySelector(".post"),M="is-copied";!function(){if(!A)return;!function(e){const t=e.querySelectorAll("h1, h2, h3, h4, h5, h6, h7"),n={};t.forEach((e=>{const t=e.id||e.textContent.trim().toLowerCase().replace(/[^\w\s-]/g,"").split(/\s+/).join("-").replace(/\//g,"-");n[t]=(n[t]||0)+1,n[t]>1?e.id=`${t}-${n[t]}`:e.id=t}))}(A);const t=A.classList.contains("has-highlight"),n=A.classList.contains("has-copy-code"),o=A.querySelector(".toc"),r=A.querySelectorAll("pre > code");((e,t)=>{if(!e)return;const n=e.querySelector(".post-body"),o=e.dataset.autoToc||!1;if(!t&&!o)return;const r=`:where(${e.dataset.tocHeadings||"h2, h3, h4"}):not(.toc-ignore)`,c=n.querySelectorAll(r),s=n.querySelectorAll("p"),a='<input class="none" id="toc-toggle" type="checkbox"><label class="toc-toggle" for="toc-toggle"></label>',i=document.createElement("ol");i.classList.add("toc-list");let l=i;c.forEach((e=>{l=j(l,e)}));const d=document.createElement("div");if(d.classList.add("toc-content"),d.appendChild(i),!t&&o){const e=document.createElement("div");switch(e.classList.add("toc"),e.innerHTML=a,e.appendChild(d),e.classList.add("toc-loaded"),o){case"before-first-h":n.insertBefore(e,c[0].previousSibling);break;case"after-first-h":n.insertBefore(e,c[0].nextSibling);break;case"before-first-p":n.insertBefore(e,s[0].previousSibling);break;case"after-first-p":n.insertBefore(e,s[0].nextSibling);break;default:n.insertBefore(e,n.firstChild)}}else t&&(t.innerHTML=a,t.appendChild(d),t.classList.add("toc-loaded"))})(A,o),0!==r.length&&(t&&async function(){try{await e("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"),hljs.highlightAll()}catch(e){console.error(e)}}(),n&&r.forEach((function(e){!function(e){if(!navigator||!navigator.clipboard)return;const t=navigator.clipboard,n=document.createElement("button");n.className="code-copy",n.addEventListener("click",(function(){t.writeText(e.textContent).then((function(){n.blur(),n.classList.add(M),n.disabled=!0,setTimeout((function(){n.disabled=!1,n.classList.remove(M)}),2e3)}))}));const o=e.parentNode;o.insertBefore(n,o.firstChild)}(e)})))}();const T=document.querySelector(".js-scheme"),D=document.body.classList.contains("is-preview"),H="current_theme";T&&T.addEventListener("click",(()=>{const e=document.documentElement,t=document.querySelector('meta[name="color-scheme"]'),n="dark"===(!D&&localStorage.getItem(H)||e.dataset.theme||"light")?"light":"dark";e.dataset.theme=n,t.content=n,D||localStorage.setItem(H,n)}));const O=document.querySelectorAll("[data-i]"),_=document.querySelector("body.is-purge-icons"),P="meteorIcons",R="meteorIconsDate";function F(e={}){O.forEach((t=>{const n=t.getAttribute("data-i"),o=Array.from(t.attributes).filter((e=>"data-i"!==e.nodeName)),r=e[n]||e.circle,c=new DOMParser,s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...(a=o,a.reduce(((e,t)=>(e[t.nodeName]=t.nodeValue,e)),{}))};var a;s.class?s.class=`i i-${n} ${s.class}`:s.class=`i i-${n}`;const i=`<svg ${l=s,Object.keys(l).map((e=>`${e}="${l[e]}"`)).join(" ")}>${r}</svg>`;var l;const d=c.parseFromString(i,"image/svg+xml").querySelector("svg");t.parentNode.replaceChild(d,t)}))}const z=()=>{fetch("https://cdn.jsdelivr.net/npm/meteor-icons@3/variants/icons.json").then((e=>e.json())).then((e=>{localStorage.setItem(P,JSON.stringify(e)),localStorage.setItem(R,new Date),F(e)})).catch((e=>console.error(e)))};function J(){localStorage.removeItem(P),localStorage.removeItem(R)}(()=>{if(0===O.length)return;const e=o(R);console.log("expired",e),o(R)&&J(),localStorage.getItem(P)?_?(J(),z()):F(JSON.parse(localStorage.getItem(P))):z()})();const U=document.querySelector('meta[name="home-blog-admin"]');U&&(window.onload=()=>{const e=U.getAttribute("content");var t;t=`https://www.blogger.com/dyn-css/authorization.css?targetBlogID=${e}`,new Promise(((e,n)=>{const o=document.createElement("link");o.href=t,o.rel="stylesheet",o.onload=e,o.onerror=n,document.head.appendChild(o)}))});const V=document.getElementById("related-posts"),W={homepage:window.location.origin,id:0,image:"",maxResults:3,shuffleLevel:5,imageSize:"w30-h30-p-k-no-nu-rw-l80-e30",ytThumbnail:"mqdefault",rootMargin:"200px"};function G(e,t){const o=e.content?.$t||e.summary.$t,r=e.title.$t,c=function(e){for(const t of e)if("alternate"===t.rel)return t.href}(e.link);let s=e.media$thumbnail?.url||function(e){const t=document.createElement("div");t.innerHTML=e;const n=t.querySelector("img");return n?n.src:""}(o)||t.image;return s=""!==s?function(e,t){return null!=(o=e)&&"string"==typeof o&&o.includes("googleusercontent.com/img/a/")?e.replace(/=(.*)$/,`=${t}`):n(e)?e.replace("default",t):e.replace(/s\d{2}(-w\d{3}-h\d{3})?(?:-c(?:-n)?)/,t);var o}(s,n(s)?t.ytThumbnail:t.imageSize):null,{image:s,title:r,url:c}}function K(e,t){if(e.feed.entry){let n=e.feed.entry;t.shuffleLevel&&(n=n.filter((e=>function(e){return e.id.$t.split(".post-")[1]}(e)!==t.id)),n=function(e){const t=e?e.length:0;if(!t)return[];const n=[...e];for(let e=0;e<t;e++){const o=e+Math.floor(Math.random()*(t-e));[n[e],n[o]]=[n[o],n[e]]}return n}(n).slice(0,t.maxResults));const o=n.map((e=>G(e,t))),r=document.createDocumentFragment();if(0===o.length)return void V.classList.add("related-is-empty");o.forEach((e=>{const t=function(e){const t=document.createElement("a"),n=document.createElement("div"),o=document.createElement("div");if(t.className="related-item flex g-1 has-image items-center relative",o.className="related-image ratio ratio-1:1 color-text flex flex-none items-center justify-center i-s",n.classList.add("related-title"),e.image){const n=document.createElement("img");n.className="related-image-src image-fit",n.src=e.image,n.alt="thumbnail",t.classList.add("has-image"),o.appendChild(n)}else o.innerHTML='\n      <svg class="i i-text" viewBox="0 0 24 24">\n        <path d="M4 7V4h16v3m-8-3v16m-3 0h6"></path>\n      </svg>';return t.href=e.url,n.textContent=e.title,t.appendChild(o),t.appendChild(n),t}(e);r.appendChild(t)})),V.innerHTML="",V.classList.add("related-is-loaded"),V.appendChild(r)}}function Q(e){const t=document.createElement("script");let n=`${e.homepage}/feeds/posts/summary?alt=json-in-script&callback=relatedPosts`;var o;e.tags&&(n+=`&q=${o=e.tags,JSON.parse(o).map((e=>`label:"${e}"`)).join("|")}`),n+=`&max-results=${e.maxResults+e.shuffleLevel}`,t.src=n,document.body.appendChild(t).parentNode.removeChild(t)}if(V){const e={...W,...function({dataset:e={}}){const t={};return Object.keys(e).forEach((n=>{var o;t[n]="true"===(o=e[n])||"false"!==o&&(Number(o).toString()===o?Number(o):"null"===o||""===o?null:o)})),t}(V)};window.relatedPosts=t=>K(t,e),t(V,(()=>{Q(e)}),{rootMargin:e.rootMargin})}}();